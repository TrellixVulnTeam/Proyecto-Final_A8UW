{"ast":null,"code":"import _regeneratorRuntime from \"G:/CURSO HENRRY/PROYECTO FINAL/PF2/FRONT/14/PF-BarberApp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"G:/CURSO HENRRY/PROYECTO FINAL/PF2/FRONT/14/PF-BarberApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { fetchConToken } from \"../fetch\";\nexport var setFavouriteApi = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(favourite) {\n    var response, json;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return fetchConToken(\"favorite\", favourite, \"POST\");\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return response.json();\n\n          case 6:\n            json = _context.sent;\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 9]]);\n  }));\n\n  return function setFavouriteApi(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var deleteFavouriteApi = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(favourite) {\n    var response, json;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return fetchConToken(\"favorite\", favourite, \"DELETE\");\n\n          case 3:\n            response = _context2.sent;\n            _context2.next = 6;\n            return response.json();\n\n          case 6:\n            json = _context2.sent;\n            _context2.next = 12;\n            break;\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 9]]);\n  }));\n\n  return function deleteFavouriteApi(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var favoritesRender = function favoritesRender(allFavorites, productosBarberia) {\n  var favouritesRender = [];\n\n  if (allFavorites && allFavorites.length) {\n    var _loop = function _loop(i) {\n      var found = productosBarberia.findIndex(function (f) {\n        return f.id === allFavorites[i].idProduct;\n      });\n\n      if (found > -1) {\n        favouritesRender[i] = productosBarberia[found];\n      }\n    };\n\n    for (var i = 0; i < allFavorites.length; i++) {\n      _loop(i);\n    }\n  }\n\n  return favouritesRender;\n};\nexport var paymentMPFavourites = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(item) {\n    var token, response, json;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            token = localStorage.getItem('token');\n            _context3.next = 3;\n            return fetch(\"https://barber-app-henry.herokuapp.com/api/purchaseOrder\", {\n              method: \"POST\",\n              body: JSON.stringify(item),\n              headers: {\n                \"Content-Type\": \"application/json\",\n                \"x-token\": token\n              }\n            });\n\n          case 3:\n            response = _context3.sent;\n            _context3.next = 6;\n            return response.json();\n\n          case 6:\n            json = _context3.sent;\n            window.open(json.urlPayment, '_blank');\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function paymentMPFavourites(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["fetchConToken","setFavouriteApi","favourite","response","json","console","log","deleteFavouriteApi","favoritesRender","allFavorites","productosBarberia","favouritesRender","length","i","found","findIndex","f","id","idProduct","paymentMPFavourites","item","token","localStorage","getItem","fetch","method","body","JSON","stringify","headers","window","open","urlPayment"],"sources":["G:/CURSO HENRRY/PROYECTO FINAL/PF2/FRONT/14/PF-BarberApp/src/helpers/functionsFavorites/favorites.js"],"sourcesContent":["import { fetchConToken } from \"../fetch\";\r\n\r\nexport const setFavouriteApi = async(favourite) =>{\r\n    try {\r\n      const response = await fetchConToken(`favorite`, favourite, \"POST\");\r\n      const json = await response.json();\r\n    } catch (error) {\r\n      console.log(error);\r\n      \r\n    }\r\n  }\r\n  \r\n  export const deleteFavouriteApi = async(favourite) =>{\r\n    try {\r\n      const response = await fetchConToken(`favorite`, favourite, \"DELETE\");\r\n      const json = await response.json();\r\n    } catch (error) {\r\n      console.log(error);\r\n      \r\n    }\r\n  }\r\n\r\n  export const favoritesRender = (allFavorites, productosBarberia) =>{\r\n    let favouritesRender = []\r\n    if(allFavorites && allFavorites.length){\r\n      for(let i = 0; i < allFavorites.length; i++){\r\n          let found = productosBarberia.findIndex((f)=>f.id === allFavorites[i].idProduct);\r\n           if(found > -1 ){ \r\n             favouritesRender[i] = productosBarberia[found]\r\n           }\r\n           }\r\n  }\r\n  return favouritesRender\r\n  };\r\n\r\n  export const paymentMPFavourites = async(item) =>{\r\n    const token = localStorage.getItem('token')\r\n    const response = await fetch(\"https://barber-app-henry.herokuapp.com/api/purchaseOrder\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(item),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"x-token\": token\r\n      },\r\n    });\r\n    const json = await response.json();\r\n    window.open(json.urlPayment, '_blank');\r\n  };"],"mappings":";;AAAA,SAASA,aAAT,QAA8B,UAA9B;AAEA,OAAO,IAAMC,eAAe;EAAA,sEAAG,iBAAMC,SAAN;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,OAEFF,aAAa,aAAaE,SAAb,EAAwB,MAAxB,CAFX;;UAAA;YAEnBC,QAFmB;YAAA;YAAA,OAGNA,QAAQ,CAACC,IAAT,EAHM;;UAAA;YAGnBA,IAHmB;YAAA;YAAA;;UAAA;YAAA;YAAA;YAKzBC,OAAO,CAACC,GAAR;;UALyB;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAfL,eAAe;IAAA;EAAA;AAAA,GAArB;AAUL,OAAO,IAAMM,kBAAkB;EAAA,uEAAG,kBAAML,SAAN;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,OAEPF,aAAa,aAAaE,SAAb,EAAwB,QAAxB,CAFN;;UAAA;YAExBC,QAFwB;YAAA;YAAA,OAGXA,QAAQ,CAACC,IAAT,EAHW;;UAAA;YAGxBA,IAHwB;YAAA;YAAA;;UAAA;YAAA;YAAA;YAK9BC,OAAO,CAACC,GAAR;;UAL8B;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAlBC,kBAAkB;IAAA;EAAA;AAAA,GAAxB;AAUP,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,YAAD,EAAeC,iBAAf,EAAoC;EACjE,IAAIC,gBAAgB,GAAG,EAAvB;;EACA,IAAGF,YAAY,IAAIA,YAAY,CAACG,MAAhC,EAAuC;IAAA,2BAC7BC,CAD6B;MAEjC,IAAIC,KAAK,GAAGJ,iBAAiB,CAACK,SAAlB,CAA4B,UAACC,CAAD;QAAA,OAAKA,CAAC,CAACC,EAAF,KAASR,YAAY,CAACI,CAAD,CAAZ,CAAgBK,SAA9B;MAAA,CAA5B,CAAZ;;MACC,IAAGJ,KAAK,GAAG,CAAC,CAAZ,EAAe;QACbH,gBAAgB,CAACE,CAAD,CAAhB,GAAsBH,iBAAiB,CAACI,KAAD,CAAvC;MACD;IAL+B;;IACrC,KAAI,IAAID,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGJ,YAAY,CAACG,MAAhC,EAAwCC,CAAC,EAAzC,EAA4C;MAAA,MAApCA,CAAoC;IAKtC;EACT;;EACD,OAAOF,gBAAP;AACC,CAXM;AAaP,OAAO,IAAMQ,mBAAmB;EAAA,uEAAG,kBAAMC,IAAN;IAAA;IAAA;MAAA;QAAA;UAAA;YAC3BC,KAD2B,GACnBC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADmB;YAAA;YAAA,OAEVC,KAAK,CAAC,0DAAD,EAA6D;cACvFC,MAAM,EAAE,MAD+E;cAEvFC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf,CAFiF;cAGvFS,OAAO,EAAE;gBACP,gBAAgB,kBADT;gBAEP,WAAWR;cAFJ;YAH8E,CAA7D,CAFK;;UAAA;YAE3BlB,QAF2B;YAAA;YAAA,OAUdA,QAAQ,CAACC,IAAT,EAVc;;UAAA;YAU3BA,IAV2B;YAWjC0B,MAAM,CAACC,IAAP,CAAY3B,IAAI,CAAC4B,UAAjB,EAA6B,QAA7B;;UAXiC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAnBb,mBAAmB;IAAA;EAAA;AAAA,GAAzB"},"metadata":{},"sourceType":"module"}