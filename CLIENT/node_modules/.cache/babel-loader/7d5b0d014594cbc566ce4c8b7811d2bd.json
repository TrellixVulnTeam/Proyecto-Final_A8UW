{"ast":null,"code":"import _regeneratorRuntime from \"G:/CURSO HENRRY/PROYECTO FINAL/PF2/FRONT/14/PF-BarberApp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"G:/CURSO HENRRY/PROYECTO FINAL/PF2/FRONT/14/PF-BarberApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nvar _jsxFileName = \"G:\\\\CURSO HENRRY\\\\PROYECTO FINAL\\\\PF2\\\\FRONT\\\\14\\\\PF-BarberApp\\\\src\\\\components\\\\admin\\\\usuarios\\\\Filtros.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport Swal from 'sweetalert2';\nimport { fetchConToken } from '../../../helpers/fetch';\nimport { types } from '../../../types/types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var Filtros = function Filtros() {\n  _s();\n\n  var dispatch = useDispatch();\n\n  var filterByState = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n      var resp, data;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetchConToken(\"users?state=\".concat(e.target.value));\n\n            case 2:\n              resp = _context.sent;\n              _context.next = 5;\n              return resp.json();\n\n            case 5:\n              data = _context.sent;\n\n              if (data.ok) {\n                dispatch({\n                  type: types.getAllUsers,\n                  payload: data.users\n                });\n              } else {\n                Swal.fire('Error', data.msg, 'error');\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function filterByState(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var filterByRol = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n      var resp, data;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetchConToken(\"users?rol=\".concat(e.target.value));\n\n            case 2:\n              resp = _context2.sent;\n              _context2.next = 5;\n              return resp.json();\n\n            case 5:\n              data = _context2.sent;\n\n              if (data.ok) {\n                dispatch({\n                  type: types.getAllUsers,\n                  payload: data.users\n                });\n              } else {\n                Swal.fire('Error', data.msg, 'error');\n              }\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function filterByRol(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var filterByAll = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e) {\n      var resp, data;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return fetchConToken('users');\n\n            case 2:\n              resp = _context3.sent;\n              _context3.next = 5;\n              return resp.json();\n\n            case 5:\n              data = _context3.sent;\n\n              if (data.ok) {\n                dispatch({\n                  type: types.getAllUsers,\n                  payload: data.users\n                });\n              }\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function filterByAll(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contenedor-filtros\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: filterByState,\n        className: \"form-select\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          hidden: true,\n          children: \"Selecciona un Estado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"true\",\n          children: \"Activo\"\n        }, \"1\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"false\",\n          children: \"Baneado\"\n        }, \"2\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: filterByRol,\n        className: \"form-select\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          hidden: true,\n          children: \"Selecciona un Rol\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"admin\",\n          children: \"Administrador\"\n        }, '3', false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"client\",\n          children: \"Cliente\"\n        }, '4', false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-warning\",\n        onClick: filterByAll,\n        children: \"Todos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(Filtros, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Filtros;\n\nvar _c;\n\n$RefreshReg$(_c, \"Filtros\");","map":{"version":3,"names":["React","useDispatch","Swal","fetchConToken","types","Filtros","dispatch","filterByState","e","target","value","resp","json","data","ok","type","getAllUsers","payload","users","fire","msg","filterByRol","filterByAll"],"sources":["G:/CURSO HENRRY/PROYECTO FINAL/PF2/FRONT/14/PF-BarberApp/src/components/admin/usuarios/Filtros.js"],"sourcesContent":["import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport {fetchConToken} from '../../../helpers/fetch';\r\nimport { types } from '../../../types/types';\r\n\r\nexport const Filtros = () => {\r\n  \r\n  const dispatch = useDispatch()\r\n\r\n  const filterByState = async(e) => {\r\n    const resp = await fetchConToken(`users?state=${e.target.value}`)\r\n    const data = await resp.json()\r\n\r\n    if(data.ok){\r\n      dispatch({type: types.getAllUsers, payload: data.users})\r\n    }else{\r\n      Swal.fire('Error', data.msg, 'error')\r\n    }\r\n  }\r\n\r\n  const filterByRol = async(e) => {\r\n    const resp = await fetchConToken(`users?rol=${e.target.value}`)\r\n    const data = await resp.json()\r\n\r\n    if(data.ok){\r\n      dispatch({type: types.getAllUsers, payload: data.users})\r\n    }else{\r\n      Swal.fire('Error', data.msg, 'error')\r\n    }\r\n  }\r\n\r\n  const filterByAll = async(e) => {\r\n    const resp = await fetchConToken('users');\r\n    const data = await resp.json()\r\n\r\n    if(data.ok){\r\n      dispatch({type: types.getAllUsers, payload: data.users})\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className='contenedor-filtros'>\r\n        <select onChange={filterByState} className='form-select'>\r\n          <option hidden>Selecciona un Estado</option>\r\n          <option value=\"true\" key=\"1\">Activo</option>\r\n          <option value=\"false\" key=\"2\">Baneado</option>\r\n        </select>\r\n        <select onChange={filterByRol} className='form-select'>\r\n          <option hidden>Selecciona un Rol</option>\r\n          <option value='admin' key='3'>Administrador</option>\r\n          <option value='client' key='4'>Cliente</option>\r\n        </select>\r\n        <button className='btn btn-warning' onClick={filterByAll}>Todos</button>\r\n      </div>\r\n    </>\r\n  ) \r\n}\r\n"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,SAAQC,aAAR,QAA4B,wBAA5B;AACA,SAASC,KAAT,QAAsB,sBAAtB;;;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;EAAA;;EAE3B,IAAMC,QAAQ,GAAGL,WAAW,EAA5B;;EAEA,IAAMM,aAAa;IAAA,sEAAG,iBAAMC,CAAN;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACDL,aAAa,uBAAgBK,CAAC,CAACC,MAAF,CAASC,KAAzB,EADZ;;YAAA;cACdC,IADc;cAAA;cAAA,OAEDA,IAAI,CAACC,IAAL,EAFC;;YAAA;cAEdC,IAFc;;cAIpB,IAAGA,IAAI,CAACC,EAAR,EAAW;gBACTR,QAAQ,CAAC;kBAACS,IAAI,EAAEX,KAAK,CAACY,WAAb;kBAA0BC,OAAO,EAAEJ,IAAI,CAACK;gBAAxC,CAAD,CAAR;cACD,CAFD,MAEK;gBACHhB,IAAI,CAACiB,IAAL,CAAU,OAAV,EAAmBN,IAAI,CAACO,GAAxB,EAA6B,OAA7B;cACD;;YARmB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAbb,aAAa;MAAA;IAAA;EAAA,GAAnB;;EAWA,IAAMc,WAAW;IAAA,uEAAG,kBAAMb,CAAN;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACCL,aAAa,qBAAcK,CAAC,CAACC,MAAF,CAASC,KAAvB,EADd;;YAAA;cACZC,IADY;cAAA;cAAA,OAECA,IAAI,CAACC,IAAL,EAFD;;YAAA;cAEZC,IAFY;;cAIlB,IAAGA,IAAI,CAACC,EAAR,EAAW;gBACTR,QAAQ,CAAC;kBAACS,IAAI,EAAEX,KAAK,CAACY,WAAb;kBAA0BC,OAAO,EAAEJ,IAAI,CAACK;gBAAxC,CAAD,CAAR;cACD,CAFD,MAEK;gBACHhB,IAAI,CAACiB,IAAL,CAAU,OAAV,EAAmBN,IAAI,CAACO,GAAxB,EAA6B,OAA7B;cACD;;YARiB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAXC,WAAW;MAAA;IAAA;EAAA,GAAjB;;EAWA,IAAMC,WAAW;IAAA,uEAAG,kBAAMd,CAAN;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACCL,aAAa,CAAC,OAAD,CADd;;YAAA;cACZQ,IADY;cAAA;cAAA,OAECA,IAAI,CAACC,IAAL,EAFD;;YAAA;cAEZC,IAFY;;cAIlB,IAAGA,IAAI,CAACC,EAAR,EAAW;gBACTR,QAAQ,CAAC;kBAACS,IAAI,EAAEX,KAAK,CAACY,WAAb;kBAA0BC,OAAO,EAAEJ,IAAI,CAACK;gBAAxC,CAAD,CAAR;cACD;;YANiB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAXI,WAAW;MAAA;IAAA;EAAA,GAAjB;;EASA,oBACE;IAAA,uBACE;MAAK,SAAS,EAAC,oBAAf;MAAA,wBACE;QAAQ,QAAQ,EAAEf,aAAlB;QAAiC,SAAS,EAAC,aAA3C;QAAA,wBACE;UAAQ,MAAM,MAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,SADF,eAEE;UAAQ,KAAK,EAAC,MAAd;UAAA;QAAA,GAAyB,GAAzB;UAAA;UAAA;UAAA;QAAA,SAFF,eAGE;UAAQ,KAAK,EAAC,OAAd;UAAA;QAAA,GAA0B,GAA1B;UAAA;UAAA;UAAA;QAAA,SAHF;MAAA;QAAA;QAAA;QAAA;MAAA,SADF,eAME;QAAQ,QAAQ,EAAEc,WAAlB;QAA+B,SAAS,EAAC,aAAzC;QAAA,wBACE;UAAQ,MAAM,MAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,SADF,eAEE;UAAQ,KAAK,EAAC,OAAd;UAAA;QAAA,GAA0B,GAA1B;UAAA;UAAA;UAAA;QAAA,SAFF,eAGE;UAAQ,KAAK,EAAC,QAAd;UAAA;QAAA,GAA2B,GAA3B;UAAA;UAAA;UAAA;QAAA,SAHF;MAAA;QAAA;QAAA;QAAA;MAAA,SANF,eAWE;QAAQ,SAAS,EAAC,iBAAlB;QAAoC,OAAO,EAAEC,WAA7C;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,SAXF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF,iBADF;AAiBD,CApDM;;GAAMjB,O;UAEMJ,W;;;KAFNI,O"},"metadata":{},"sourceType":"module"}