{"ast":null,"code":"import _regeneratorRuntime from \"G:/CURSO HENRRY/PROYECTO FINAL/PF2/FRONT/14/PF-BarberApp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"G:/CURSO HENRRY/PROYECTO FINAL/PF2/FRONT/14/PF-BarberApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"G:/CURSO HENRRY/PROYECTO FINAL/PF2/FRONT/14/PF-BarberApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"G:\\\\CURSO HENRRY\\\\PROYECTO FINAL\\\\PF2\\\\FRONT\\\\14\\\\PF-BarberApp\\\\src\\\\components\\\\admin\\\\usuarios\\\\Buscador.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport Swal from 'sweetalert2';\nimport { fetchConToken } from '../../../helpers/fetch';\nimport { useForm } from '../../../hooks/useForm';\nimport { types } from '../../../types/types';\nimport './usuarios.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var Buscador = function Buscador() {\n  _s();\n\n  var _useForm = useForm({\n    query: ''\n  }),\n      _useForm2 = _slicedToArray(_useForm, 3),\n      query = _useForm2[0],\n      handleChange = _useForm2[1],\n      reset = _useForm2[2];\n\n  var dispatch = useDispatch();\n\n  var handleSearch = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n      var resp, data, payload;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return fetchConToken(\"users?name=\".concat(query.query));\n\n            case 3:\n              resp = _context.sent;\n              _context.next = 6;\n              return resp.json();\n\n            case 6:\n              data = _context.sent;\n\n              if (data.ok) {\n                payload = [data.user];\n                dispatch({\n                  type: types.getAllUsers,\n                  payload: payload\n                });\n              } else {\n                Swal.fire('Error', data.msg, 'error');\n              }\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSearch(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-buscador\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearch,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"search\",\n          name: \"query\",\n          className: \"form-control\",\n          value: query.query,\n          onChange: handleChange,\n          placeholder: \"Buscar un usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-warning\",\n          children: \"Buscar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(Buscador, \"bj0Z/4Ro8wHRycy7ezAAE1/c+xw=\", false, function () {\n  return [useForm, useDispatch];\n});\n\n_c = Buscador;\n\nvar _c;\n\n$RefreshReg$(_c, \"Buscador\");","map":{"version":3,"names":["React","useDispatch","Swal","fetchConToken","useForm","types","Buscador","query","handleChange","reset","dispatch","handleSearch","e","preventDefault","resp","json","data","ok","payload","user","type","getAllUsers","fire","msg"],"sources":["G:/CURSO HENRRY/PROYECTO FINAL/PF2/FRONT/14/PF-BarberApp/src/components/admin/usuarios/Buscador.js"],"sourcesContent":["import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport { fetchConToken } from '../../../helpers/fetch';\r\nimport { useForm } from '../../../hooks/useForm';\r\nimport { types } from '../../../types/types';\r\nimport './usuarios.css'\r\n\r\nexport const Buscador = () => {\r\n\r\n  const [query, handleChange, reset] = useForm({\r\n    query: ''\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSearch = async(e) => {\r\n    e.preventDefault();\r\n\r\n    const resp = await fetchConToken(`users?name=${query.query}`);\r\n    const data = await resp.json();\r\n\r\n    if(data.ok){\r\n      const payload = [data.user]\r\n      dispatch({type: types.getAllUsers, payload})\r\n    }else{\r\n      Swal.fire('Error', data.msg, 'error')\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className='main-buscador'>\r\n        <form onSubmit={handleSearch}>\r\n\r\n          <input \r\n            type=\"search\"\r\n            name='query'\r\n            className='form-control'\r\n            value={query.query}\r\n            onChange={handleChange}\r\n            placeholder='Buscar un usuario' />\r\n\r\n          <button \r\n            type='submit'\r\n            className='btn btn-warning'>Buscar</button>\r\n\r\n        </form>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,SAASC,OAAT,QAAwB,wBAAxB;AACA,SAASC,KAAT,QAAsB,sBAAtB;AACA,OAAO,gBAAP;;;AAEA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;EAAA;;EAE5B,eAAqCF,OAAO,CAAC;IAC3CG,KAAK,EAAE;EADoC,CAAD,CAA5C;EAAA;EAAA,IAAOA,KAAP;EAAA,IAAcC,YAAd;EAAA,IAA4BC,KAA5B;;EAIA,IAAMC,QAAQ,GAAGT,WAAW,EAA5B;;EAEA,IAAMU,YAAY;IAAA,sEAAG,iBAAMC,CAAN;MAAA;MAAA;QAAA;UAAA;YAAA;cACnBA,CAAC,CAACC,cAAF;cADmB;cAAA,OAGAV,aAAa,sBAAeI,KAAK,CAACA,KAArB,EAHb;;YAAA;cAGbO,IAHa;cAAA;cAAA,OAIAA,IAAI,CAACC,IAAL,EAJA;;YAAA;cAIbC,IAJa;;cAMnB,IAAGA,IAAI,CAACC,EAAR,EAAW;gBACHC,OADG,GACO,CAACF,IAAI,CAACG,IAAN,CADP;gBAETT,QAAQ,CAAC;kBAACU,IAAI,EAAEf,KAAK,CAACgB,WAAb;kBAA0BH,OAAO,EAAPA;gBAA1B,CAAD,CAAR;cACD,CAHD,MAGK;gBACHhB,IAAI,CAACoB,IAAL,CAAU,OAAV,EAAmBN,IAAI,CAACO,GAAxB,EAA6B,OAA7B;cACD;;YAXkB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAZZ,YAAY;MAAA;IAAA;EAAA,GAAlB;;EAeA,oBACE;IAAA,uBACE;MAAK,SAAS,EAAC,eAAf;MAAA,uBACE;QAAM,QAAQ,EAAEA,YAAhB;QAAA,wBAEE;UACE,IAAI,EAAC,QADP;UAEE,IAAI,EAAC,OAFP;UAGE,SAAS,EAAC,cAHZ;UAIE,KAAK,EAAEJ,KAAK,CAACA,KAJf;UAKE,QAAQ,EAAEC,YALZ;UAME,WAAW,EAAC;QANd;UAAA;UAAA;UAAA;QAAA,SAFF,eAUE;UACE,IAAI,EAAC,QADP;UAEE,SAAS,EAAC,iBAFZ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,SAVF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EADF,iBADF;AAqBD,CA5CM;;GAAMF,Q;UAE0BF,O,EAIpBH,W;;;KANNK,Q"},"metadata":{},"sourceType":"module"}